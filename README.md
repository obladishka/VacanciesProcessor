# Обработчик вакансий

Обработчик вакансий - приложение, которое упростит Вам жизнь, сделав поиск вакансий быстрым и удобным. Вам больше не 
придется бесконечно скролить ленту вакансий на сайте: достаточно ввести необходимые данные и приложение все найдет за Вас.

## Начало работы

Для запуска приложения:

1. Клонируйте репозиторий, выполнив в своем терминале команду
```commandline
git clone https://github.com/obladishka/VacanciesProcessor.git
```
2. Установите зависимости через poetry:
```commandline
poetry intall
```
3. Запустите приложение, выполнив в терминале команду
```commandline
python3 main.py # для MacOC
python main.py # для Windows
```

## Использование
Найдите работу мечты за пару кликов:

### 1. Введите поисковой запрос
Введите ключевое слово (название должности или направление работы) для поиска соответствующих вакансий на сайте. 
Запрос будет отправлен на сервер через API и вернет ответ с указанием количества найденных вакансий:
```commandline
>>> Введите запрос для поиска на сайте вакансий:
python
>>> По вашему запросу найдено 2000 вакансий.
```
### 2. Сохраните вакансии в файл для доступа в любое удобное время
По умолчанию вакансии хранятся в файле *vacancies.json* в папке *data/*. При необходимости Вы можете задать собственное 
имя файла. ***Обратите внимание***, что в этом случае расширение файла должно быть *.json*.

### 3. Больше фильтров для поиска той самой вакансии
При желании Вы можете отфильтровать вакансии по ключевому слову или словам в описании, а также по городу или стране. 
Для этого ответьте *"да"* на соответсвующее вопросы и введите необходимую информацию:
```commandline
>>> Хотите отфильтровать вакансии по определенным словам в описании (да/нет)
нет

>>> Хотите отфильтровать вакансии по определенной/ому стране/городу (да/нет): 
да
>>> Введите название страны/города для фильтрации вакансий: 
Москва

>>> Количество отфильтрованных вакансий: 500
```
### 4. Топ вакансий по зарплате
Программа отсортирует вакансии по убыванию максимальной зарплаты с учетом текущего курса валют (для зарплат, указанных 
не в рублях). Введите любое удобное число для просмотра топа вакансий. Чтобы увидеть весь список, введите число, равное 
количеству найденных вакансий:
```commandline
>>> Введите число для вывода топ-n по зарплатам (число должно быть больше 1 и меньше 500):
3 # выведет топ-3 вакансий

>>> Введите число для вывода топ-n по зарплатам (число должно быть больше 1 и меньше 500):
500 # выведет весь список вакансий

# пример вывода:
[       
        {
            "vac_id": "106500391",
            "name": "Торговый представитель",
            "max_salary": 350000,
            "currency": "KZT",
            "place": "Алматы",
            "responsibilities": "Работать с торговыми точками канала BC и HoReCa. Работать в «полевых» условиях. "
            "Посещать торговые точки на вверенной территории. ",
            "url": "https://hh.ru/vacancy/106500391",
        },
        {
            "vac_id": "106735215",
            "name": "Диспетчер чатов (в Яндекс)",
            "max_salary": 44000,
            "currency": "RUR",
            "place": "Россия",
            "responsibilities": "Работать с клиентами или партнерами для решения разнообразных ситуаций. "
            "Развивать процессы и инструменты для улучшения качества сервисов.",
            "url": "https://hh.ru/vacancy/106735215",
        },
    ]
```

## Тестирование
Код на 100% покрыт юнит-тестами Pytest. Для запуска выполните команды:
```commandline
poetry add --group dev pytest # установка pytest в виртуальное окружение приложения
pytest # запуск тестов
```
Подробный отчет о покрытии можно найти в файле *index.html* в папке *htmlcov*, запустив в терминале команду:
```commandline
pytest --cov=src --cov-report=html
```

## Источники
<a href="https://www.cbr-xml-daily.ru/">Курсы ЦБ РФ в XML и JSON, API</a>